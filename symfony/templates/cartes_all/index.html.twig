{% extends 'base.html.twig' %}

{% block title %}Hello CartesAllController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="mt-3 mb-3 ml-3">
    <label>Nom de la carte: </label>
    <input>
    <button>Rechercher</button>
</div>

<div class="cardDiv">
</div>


{% endblock %}
{% block javascripts %}
<script>
    getFirst100Cards()

    function getFirst100Cards() {
        fetch('https://db.ygoprodeck.com/api/v7/cardinfo.php')
        .then(response => response.json())
            .then(resp => {
                let cards = resp.data.slice(0, 50); // Prend les 100 premiÃ¨res cartes
                const cardDiv = document.querySelector('.cardDiv');
                cards.forEach(card => {
                    if (card.card_images && card.card_images.length > 0) {
                        const cardContainer = document.createElement('div');
                        cardContainer.classList.add('cardContainer');
                        card.card_images.forEach(image => {
                            const imgElement = document.createElement('img');
                            imgElement.src = image.image_url;
                            imgElement.alt = 'Card Image';
                            imgElement.classList.add('cardImage');
                            cardContainer.appendChild(imgElement);
                        });
                        cardDiv.appendChild(cardContainer);
                    }
                });
                console.log('resp', resp);
            })
            .catch(error => {
                console.error('Error: ', error);
            });
    }
</script>
{% endblock %}
